openapi: "3.1.0"
info:
  title: "Studio 2 Stadium API"
  version: "1.0.0"
  description: "Endpoint documentation for the backend. TanStack Query hooks are generated using the openapi specification at `/openapi`"
servers:
  - url: "http://localhost:3333"
paths:
  /auth/signup:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: "object"
              properties:
                date:
                  type:
                    - "null"
                    - "string"
                    - "number"
                test:
                  type: "object"
                  properties: {}
                test2:
                  type: "object"
                  properties: {}
                phone:
                  type:
                    - "null"
                    - "string"
                email:
                  type: "string"
                password:
                  type: "string"
                username:
                  type: "string"
                first_name:
                  type: "string"
                last_name:
                  type: "string"
                terms_checked:
                  type: "boolean"
              required:
                - "email"
                - "password"
                - "username"
                - "first_name"
                - "last_name"
                - "terms_checked"
      responses:
        201:
          description: "Successful Response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  email:
                    type: "string"
                  username:
                    type: "string"
                  first_name:
                    type: "string"
                  last_name:
                    type: "string"
                  phone:
                    type:
                      - "null"
                      - "string"
                  id:
                    type: "string"
                  display_email:
                    type: "string"
                  image:
                    type:
                      - "null"
                      - "string"
                  created_at:
                    type: "string"
                  updated_at:
                    type:
                      - "null"
                      - "string"
        422:
          description: "Error Response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  errors:
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        message:
                          type: "string"
                        rule:
                          type: "string"
                        field:
                          type: "string"
      tags:
        - "Authentication"
      summary: "Create user account"
  /auth/login:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: "object"
              properties:
                email:
                  type: "string"
                password:
                  type: "string"
                params:
                  type: "object"
                  properties:
                    testParam:
                      required: true
                      type:
                        - "string"
                        - "number"
              required:
                - "email"
                - "password"
                - "params"
      responses:
        200:
          description: "Successful Response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  id:
                    type: "string"
        422:
          description: "Error Response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  errors:
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        message:
                          type: "string"
                        rule:
                          type: "string"
                        field:
                          type: "string"
      tags:
        - "Authentication"
      summary: "Create user session"
  /auth/logout:
    post:
      responses:
        200:
          description: "Successful Response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  message:
                    type: "string"
        400:
          $ref: "#/components/responses/BadRequest"
      tags:
        - "Authentication"
      summary: "Sign out"
  /auth/me/{id}:
    get:
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
        - name: "test"
          in: "query"
          schema:
            required: true
            type: "string"
      responses:
        200:
          description: "Successful Response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  email:
                    type: "string"
                  username:
                    type: "string"
                  first_name:
                    type: "string"
                  last_name:
                    type: "string"
                  phone:
                    type:
                      - "null"
                      - "string"
                  id:
                    type: "string"
                  display_email:
                    type: "string"
                  image:
                    type:
                      - "null"
                      - "string"
                  created_at:
                    type: "string"
                  updated_at:
                    type:
                      - "null"
                      - "string"
        422:
          description: "Error Response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  errors:
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        message:
                          type: "string"
                        rule:
                          type: "string"
                        field:
                          type: "string"
      tags:
        - "Authentication"
      summary: "Get authenticated user"
  /auth/{id}/test/{another}:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: "object"
              properties:
                email:
                  type: "string"
                password:
                  type: "string"
                params:
                  type: "object"
                  properties:
                    testParam:
                      required: true
                      type:
                        - "string"
                        - "number"
              required:
                - "email"
                - "password"
                - "params"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
        - name: "another"
          in: "path"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: "Successful Response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  id:
                    type: "string"
        422:
          description: "Error Response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  errors:
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        message:
                          type: "string"
                        rule:
                          type: "string"
                        field:
                          type: "string"
      tags:
        - "Authentication"
components:
  responses:
    BadRequest:
      description: "Bad Request"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/BadRequestError"
  schemas:
    BadRequestError:
      x-scalar-ignore: true
      description: "RFC 7807 (https://datatracker.ietf.org/doc/html/rfc7807)"
      type: "object"
      properties:
        type:
          type: "string"
          examples:
            - "https://example.com/errors/bad-request"
        title:
          type: "string"
          examples:
            - "Bad Request"
        status:
          type: "integer"
          format: "int64"
          examples:
            - 400
        detail:
          type: "string"
          examples:
            - "The request was invalid."
tags:
  - name: "Authentication"
    description: "Authentication and user creation endpoints"
