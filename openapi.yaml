openapi: "3.1.0"
info:
  title: "Studio 2 Stadium API"
  version: "1.0.0"
  description: "Endpoint documentation for the backend. TanStack Query hooks are generated using the openapi specification at `/openapi`"
servers:
  - url: "http://localhost:3333"
paths:
  /auth/signup:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: "object"
              properties:
                phone:
                  type:
                    - "null"
                    - "string"
                  examples:
                    - "asd"
                email:
                  type: "string"
                password:
                  type: "string"
                username:
                  type: "string"
                first_name:
                  type: "string"
                last_name:
                  type: "string"
                terms_checked:
                  type: "boolean"
              required:
                - "phone"
                - "email"
                - "password"
                - "username"
                - "first_name"
                - "last_name"
                - "terms_checked"
      parameters: []
      responses:
        201:
          description: "Error response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  email:
                    type: "string"
                  username:
                    type: "string"
                  first_name:
                    type: "string"
                  last_name:
                    type: "string"
                  phone:
                    type:
                      - "null"
                      - "string"
                    examples:
                      - "asd"
                  id:
                    type: "string"
                  display_email:
                    type: "string"
                  image:
                    type:
                      - "null"
                      - "string"
                    examples:
                      - "asd"
                  created_at:
                    type: "string"
                  updated_at:
                    type:
                      - "null"
                      - "string"
                    examples:
                      - "asd"
        422:
          description: "Error response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  errors:
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        message:
                          type: "string"
                        rule:
                          type: "string"
                        field:
                          type: "string"
      tags:
        - "Authentication"
      summary: "Create user account"
  /auth/login:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: "object"
              properties:
                email:
                  type: "string"
                password:
                  type: "string"
              required:
                - "email"
                - "password"
      parameters: []
      responses:
        200:
          description: "Successful response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  id:
                    type: "string"
        422:
          description: "Error response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  errors:
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        message:
                          type: "string"
                        rule:
                          type: "string"
                        field:
                          type: "string"
      tags:
        - "Authentication"
      summary: "Create user session"
  /auth/logout:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: "object"
              properties: {}
              required: []
      parameters: []
      responses:
        200:
          description: "Successful response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  message:
                    type: "string"
        400:
          $ref: "#/components/responses/BadRequest"
      tags:
        - "Authentication"
      summary: "Sign out"
  /auth/{id}:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: "object"
              properties:
                email:
                  type: "string"
                password:
                  type: "string"
              required:
                - "email"
                - "password"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
      responses:
        200:
          description: "Successful response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  id:
                    type: "string"
        422:
          description: "Error response"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  errors:
                    type: "array"
                    items:
                      type: "object"
                      properties:
                        message:
                          type: "string"
                        rule:
                          type: "string"
                        field:
                          type: "string"
      tags:
        - "Authentication"
components:
  responses:
    BadRequest:
      description: "Bad Request"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/BadRequestError"
  schemas:
    BadRequestError:
      x-scalar-ignore: true
      description: "RFC 7807 (https://datatracker.ietf.org/doc/html/rfc7807)"
      type: "object"
      properties:
        type:
          type: "string"
          examples:
            - "https://example.com/errors/bad-request"
        title:
          type: "string"
          examples:
            - "Bad Request"
        status:
          type: "integer"
          format: "int64"
          examples:
            - 400
        detail:
          type: "string"
          examples:
            - "The request was invalid."
tags:
  - name: "Authentication"
    description: "Authentication and user creation endpoints"
